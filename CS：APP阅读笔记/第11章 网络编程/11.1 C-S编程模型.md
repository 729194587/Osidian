
所有的网络应用都是基于相同的基本编程模型，有着想似的整体逻辑结构，依赖相同的编程接口。

C-S模型的基本操作是事务。
（1）客户端向服务器发送请求，发起一个事务。
（2）服务器收到请求，解析，操作它的资源。
（3）服务器给客户端发送一个响应，等待下一个请求。
（4）客户端收到响应并处理它。

客户端和服务器都是进程，而不是什么机器或主机。

# 11.2 网络

小写internet描述一般概念，大写Internet描述具体实现，全球IP因特网。

客户端进行系统调用，从虚拟地址空间复制数据到内核，经由协议软件封装成帧。

# 11.3 全球IP因特网

因特网的客户端和服务器混合使用套接字接口函数和UnixI/O函数来进行通信。

UDP的U是Unreliable的U。

网络程序把IP地址放在IP地址结构中
```c
struct in_addr()
{
uint32_t s_addr;
}
```

因特网主机可以有不同的主机字节顺序，TCP/IP为任意整数数据项定义了统一的网络字节顺序（大端字节顺序）。

IP地址是大端字节顺序存放，主机字节顺序是小端法。Unix提供了函数在网络和主机字节顺序间实现转换。
```c
#include<arpa/inet.h>

uint32_t htonl(uint32_t hostlong);
uint16_t htons(uint16_t hostshort);

uint32_t ntohl(uint32_t netlong);
uint16_t ntohs(uint16_t netshort);
```

应用程序使用inet_pton和inet_ntop函数来实现IP地址和点分十进制转换：
```c
#include<arpa/inet.h>

int inet_pton(AF_INET,const char *src,void *dst);

const char *inet_ntop(AF_INET,const void *src,char *dst,socklen_t size);
//返回指向点分十进制的指针。
```
n代表网络，p代表表示。

一个套接字是一个连接的端点，每个套接字的地址由IP＋端口组成。
一个连接由两端套接字地址唯一确定，可以表示成一个元组：
`(cliaddr:cliport,servaddr:servport)
`


